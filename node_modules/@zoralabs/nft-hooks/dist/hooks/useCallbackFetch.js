"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useCallbackFetch = void 0;
const react_1 = require("react");
const NFTFetchContext_1 = require("../context/NFTFetchContext");
/**
 * Combines callback and fetch react hooks to load data. Similar to SWR
 *
 * @param datapoint data argument to pass into the fetch function
 * @param fetchFn MediaFetchAgent generic fetch agent to pass into fetch function
 */
function useCallbackFetch(datapoint, fetchFn) {
    const fetchAgent = react_1.useContext(NFTFetchContext_1.NFTFetchContext);
    const fetch = react_1.useCallback(fetchFn, []);
    react_1.useEffect(() => {
        if (datapoint) {
            fetch(fetchAgent, datapoint);
        }
    }, Array.isArray(datapoint) ? datapoint : [datapoint]);
}
exports.useCallbackFetch = useCallbackFetch;
