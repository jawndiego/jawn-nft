import type { NetworkIDs } from '../constants/networks';
import { MediaContentType, UsernameResponseType } from './FetchResultTypes';
import { CurrencyLookupType, NFTDataType, ZNFTMediaDataType } from './AuctionInfoTypes';
/**
 * Internal agent for NFT Hooks to fetch NFT information.
 * Can be used directly for interaction with non-react web frameworks or server frameworks.
 * Uses a cached promise-based API.
 * Fetches from IPFS providers and thegraph.
 */
export declare class MediaFetchAgent {
    readonly networkId: NetworkIDs;
    private timeouts;
    private loaders;
    constructor(network: NetworkIDs);
    /**
     * Clear all cached responses from metadata, currency, and NFT chain information loaders
     */
    clearCache(): void;
    /**
     * Gets information of currencies and trading prices from uniswap
     * @param currencies list of currency contract ids on ethereum
     * @returns Promise<CurrencyLookupType>
     */
    loadCurrencies(currencies: string[]): Promise<CurrencyLookupType>;
    /**
     * Fetch NFT content or retun URI if content shouild not be fetched
     * @param url NFT Content URL
     * @param contentType string mime type to fetch
     * @returns Promise<MediaContentType> Media content information or URL
     */
    fetchContent(url: string, contentType: string): Promise<MediaContentType>;
    /**
     * Fetch Content MIME type from content URI
     *
     * @param url IPFS Content URI
     * @returns mime type as a string
     * @throws RequestError
     */
    fetchContentMimeType(url: string): Promise<string>;
    /**
     * Get on-chain ZORA NFT ID associated media information
     *
     * @param mediaId ZORA NFT id to retrieve information of
     * @returns Promise<NFTDataType> On-chain NFT data
     */
    loadZNFTData(mediaId: string, currencyInfos?: CurrencyLookupType): Promise<NFTDataType>;
    loadZNFTDataUntransformed(mediaId: string): Promise<ZNFTMediaDataType>;
    /**
     *
     * @param address string address of username to load
     * @returns
     */
    loadUsername(address: string): Promise<UsernameResponseType>;
    /**
     * Fetch function to retrieve Graph data for matching curated auctions
     * This function is not cached
     *
     * @function fetchReserveAuctions
     * @private
     * @param curatorIds list of Zora NFT IDs to fetch from the graph datastore
     * @returns mapped transformed list of curated auction results
     */
    fetchReserveAuctions(curatorIds: readonly string[], isApproved?: boolean | null, first?: number, skip?: number): Promise<({
        __typename?: "ReserveAuction" | undefined;
    } & {
        __typename?: "ReserveAuction" | undefined;
    } & Pick<import("../graph-queries/zora-types").ReserveAuction, "id" | "createdAtTimestamp" | "tokenId" | "status" | "approved" | "reservePrice" | "firstBidTime" | "curatorFeePercentage" | "duration" | "expectedEndTimestamp" | "finalizedAtTimestamp"> & {
        curator: {
            __typename?: "User" | undefined;
        } & Pick<import("../graph-queries/zora-types").User, "id">;
        tokenOwner: {
            __typename?: "User" | undefined;
        } & Pick<import("../graph-queries/zora-types").User, "id">;
        auctionCurrency: {
            __typename?: "Currency" | undefined;
        } & {
            __typename?: "Currency" | undefined;
        } & Pick<import("../graph-queries/zora-types").Currency, "symbol" | "id" | "name" | "decimals">;
        currentBid?: import("../graph-queries/zora-types").Maybe<{
            __typename?: "ReserveAuctionBid" | undefined;
        } & {
            __typename?: "ReserveAuctionBid" | undefined;
        } & Pick<import("../graph-queries/zora-types").ReserveAuctionBid, "createdAtTimestamp" | "amount" | "bidType"> & {
            bidder: {
                __typename?: "User" | undefined;
            } & Pick<import("../graph-queries/zora-types").User, "id">;
        }> | undefined;
        previousBids?: import("../graph-queries/zora-types").Maybe<({
            __typename?: "InactiveReserveAuctionBid" | undefined;
        } & {
            __typename?: "InactiveReserveAuctionBid" | undefined;
        } & Pick<import("../graph-queries/zora-types").InactiveReserveAuctionBid, "id" | "createdAtTimestamp" | "amount" | "bidType" | "bidInactivatedAtTimestamp" | "bidInactivatedAtBlockNumber"> & {
            bidder: {
                __typename?: "User" | undefined;
            } & Pick<import("../graph-queries/zora-types").User, "id">;
        })[]> | undefined;
    })[]>;
    /**
     * Internal fetch current auctions by curator
     *
     * @function fetchMediaGraph
     * @private
     * @param mediaIds list of Zora NFT IDs to fetch from the graph datastore
     * @returns mapped transformed list of zora NFT ID data
     */
    private fetchMediaGraph;
    /**
     * Fetches zora username information from blockchain addresses for displaying user
     * information.
     *
     * @param addresses string list of addresses to map to Zora usernames
     * @returns list of UsernameResponseType - all fields are optional except address
     */
    private fetchZoraUsernames;
    /**
     * Internal fetch function to retrieve currency information from TheGraph
     *
     * @function fetchCurrenciesGraph
     * @private
     * @param currencyContracts list of Ethereum addresses of currency contract data to retrieve
     * @returns mapped transformed list of ETH currency mapping data
     */
    private fetchCurrenciesGraph;
    /**
     * Fetch method to query metadata from IPFS. Not cached
     *
     * @function fetchIPFSMetadataCached
     * @public
     * @param url Metadata Source
     * @returns IPFS Metadata Fetch
     * @throws RequestError
     */
    fetchIPFSMetadata(url: string): Promise<any>;
}
